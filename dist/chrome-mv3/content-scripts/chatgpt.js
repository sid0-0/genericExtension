var chatgpt=(function(){"use strict";function p(e){return e}const u={matches:["*://*.chat.openai.com/*","*://*.chatgpt.com/*"],main(){const e={rejectCookies:{executed:!1},refuseLoginPrompt:{executed:!1},deleteLoginPrompt:{executed:!1},refuseLoginModelPrompt:{executed:!1}},n=new MutationObserver(()=>{if(!e.rejectCookies.executed){const t=Array.from(document.querySelectorAll("button>div")).filter(o=>o.innerHTML==="Reject non-essential")[0];t&&(t?.click(),console.log("Rejected cookies"),e.rejectCookies.executed=!0)}if(!e.refuseLoginPrompt.executed){const t=Array.from(document.querySelectorAll("div>a")).filter(o=>o.innerHTML==="Stay logged out")[0];t&&(t?.click(),console.log("Refused login prompt"),e.refuseLoginPrompt.executed=!0)}if(!e.refuseLoginModelPrompt.executed){const t=document.querySelector('button[data-testid="close-button"]');t&&(t?.click(),console.log("Refused login model prompt"),e.refuseLoginModelPrompt.executed=!0)}if(!e.deleteLoginPrompt.executed){const t=document.querySelector("aside.bg-token-main-surface-primary");t&&(t?.remove(),console.log("Deleted login prompt"),e.deleteLoginPrompt.executed=!0)}Object.values(e).every(t=>t.executed)&&n.disconnect()});n.observe(document,{childList:!0,subtree:!0})}},d=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function i(e,...n){}const g={debug:(...e)=>i(console.debug,...e),log:(...e)=>i(console.log,...e),warn:(...e)=>i(console.warn,...e),error:(...e)=>i(console.error,...e)};class c extends Event{constructor(n,r){super(c.EVENT_NAME,{}),this.newUrl=n,this.oldUrl=r}static EVENT_NAME=l("wxt:locationchange")}function l(e){return`${d?.runtime?.id}:chatgpt:${e}`}function h(e){let n,r;return{run(){n==null&&(r=new URL(location.href),n=e.setInterval(()=>{let t=new URL(location.href);t.href!==r.href&&(window.dispatchEvent(new c(t,r)),r=t)},1e3))}}}class s{constructor(n,r){this.contentScriptName=n,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=l("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=h(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(n){return this.abortController.abort(n)}get isInvalid(){return d.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(n){return this.signal.addEventListener("abort",n),()=>this.signal.removeEventListener("abort",n)}block(){return new Promise(()=>{})}setInterval(n,r){const t=setInterval(()=>{this.isValid&&n()},r);return this.onInvalidated(()=>clearInterval(t)),t}setTimeout(n,r){const t=setTimeout(()=>{this.isValid&&n()},r);return this.onInvalidated(()=>clearTimeout(t)),t}requestAnimationFrame(n){const r=requestAnimationFrame((...t)=>{this.isValid&&n(...t)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(n,r){const t=requestIdleCallback((...o)=>{this.signal.aborted||n(...o)},r);return this.onInvalidated(()=>cancelIdleCallback(t)),t}addEventListener(n,r,t,o){r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),n.addEventListener?.(r.startsWith("wxt:")?l(r):r,t,{...o,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),g.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:s.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(n){const r=n.data?.type===s.SCRIPT_STARTED_MESSAGE_TYPE,t=n.data?.contentScriptName===this.contentScriptName,o=!this.receivedMessageIds.has(n.data?.messageId);return r&&t&&o}listenForNewerScripts(n){let r=!0;const t=o=>{if(this.verifyScriptStartedEvent(o)){this.receivedMessageIds.add(o.data.messageId);const f=r;if(r=!1,f&&n?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",t),this.onInvalidated(()=>removeEventListener("message",t))}}function b(){}function a(e,...n){}const m={debug:(...e)=>a(console.debug,...e),log:(...e)=>a(console.log,...e),warn:(...e)=>a(console.warn,...e),error:(...e)=>a(console.error,...e)};return(async()=>{try{const{main:e,...n}=u,r=new s("chatgpt",n);return await e(r)}catch(e){throw m.error('The content script "chatgpt" crashed on startup!',e),e}})()})();
chatgpt;